var contentLoaded=function(e,t){var n=!1,r=!0,i=e.document,s=i.documentElement,o="attachEvent",u="detachEvent",a="on",f=function(r){if(r.type=="readystatechange"&&i.readyState!="complete")return;(r.type=="load"?e:i)[u](a+r.type,f,!1),!n&&(n=!0)&&t.call(e,r.type||r)},l=function(){try{s.doScroll("left")}catch(e){setTimeout(l,50);return}f("poll")};if(i.readyState=="complete")t.call(e,"lazy");else{if(i.createEventObject&&s.doScroll){try{r=!e.frameElement}catch(c){}r&&l()}i[o](a+"DOMContentLoaded",f,!1),i[o](a+"readystatechange",f,!1),e[o](a+"load",f,!1)}};define("shim/DOMContentLoaded",function(){}),!window.addEventListener&&function(e,t,n,r,i,s,o,u){t[i]=n[i]=r[i]=function(t,n){if(t=="DOMContentLoaded"&&contentLoaded){contentLoaded(e,n);return}var r=this;u.unshift([r,t,n,function(e){e.currentTarget=r,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||r,n.call(r,e)}]),this.attachEvent("on"+t,u[0][3])},t[s]=n[s]=r[s]=function(e,t){for(var n=0,r;r=u[n];++n)if(r[0]==this&&r[1]==e&&r[2]==t)return this.detachEvent("on"+e,u.splice(n,1)[0][3])},t[o]=n[o]=r[o]=function(e){return this.fireEvent("on"+e.type,e)}}(window,Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),define("shim/addEventListener",function(){}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,r=this.length;n<r;++n)e.call(t,this[n],n,this)}),define("shim/Array.forEach",function(){}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){t===undefined&&(t=0),t<0&&(t+=this.length),t<0&&(t=0);for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1}),define("shim/Array.indexOf",function(){}),Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),define("shim/Array.isArray",function(){}),Function.prototype.bind||(Function.prototype.bind=function(e){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),define("shim/Function.bind",function(){}),Object.create||(Object.create=function(e){function t(){}if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");return t.prototype=e,new t}),define("shim/Object.create",function(){}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!="object"&&typeof i!="function"||i===null)throw new TypeError("Object.keys called on non-object");var s=[];for(var o in i)e.call(i,o)&&s.push(o);if(t)for(var u=0;u<r;u++)e.call(i,n[u])&&s.push(n[u]);return s}}()),define("shim/Object.keys",function(){}),function(e,t){var n=1,r={},i={_setEntry:function(e,t){var i=e.__pubSubUID;return i||(i=n++,e.__pubSubUID=i,r[i]={obj:e}),r[i][t]||(r[i][t]=[]),r[i]},_getEntryProp:function(e,t){var n=r[e.__pubSubUID];return n?r[e.__pubSubUID][t]:null},subscribe:function(e,t,n){var r=this._setEntry(e,"subscriptions"),i,s=0,o=r.subscriptions,u=o.length;for(;s<u;s++){i=o[s];if(i.type===t&&i.fn===n)return}o.push({type:t,fn:n})},unsubscribe:function(e,t,n){var r=this._getEntryProp(e,"subscriptions");if(!r)return;var i,s=r.length;while(--s>=0)i=r[s],i.type===t&&(i.fn===n||!n)&&r.splice(s,1)},publishAsync:function(e,t,n){var r=this;setTimeout(function(){r.publish(e,t,n)},0)},publish:function(e,t,n){var r=this._setEntry(e,"subscriptions"),i=[],s=0,o=r.subscriptions,u=o.length,a=r.receivers,f;for(;s<u;s++)f=o[s],f.type===t&&i.push(f);u=i.length;for(s=0;s<u;s++)i[s].fn(n);if(!a)return;u=a.length;for(s=0;s<u;s++)this.publish(a[s],t,n)},inform:function(e,t){if(!e||!t)return!1;var n=this._setEntry(e,"receivers");return n.receivers.push(t),!0},conceal:function(e,t){if(!e||!t)return!1;var n=this._getEntryProp(e,"receivers");if(!n)return!1;var r=n.length,i;while(--r>=0){i=n[r];if(i===t)return n.splice(r,1),!0}return!1}};typeof module!="undefined"&&module.exports?module.exports=i:typeof define=="function"&&define.amd?define("lib/rikschennink/utils/Observer",[],function(){return i}):e.Observer=i}(window),function(e,t){var n=function(){this._thens=[]};n.prototype={then:function(e,t){this._thens.push({resolve:e,reject:t})},resolve:function(e){this._complete("resolve",e)},reject:function(e){this._complete("reject",e)},_complete:function(e,t){this.then=e==="resolve"?function(e,n){e(t)}:function(e,n){n(t)},this.resolve=this.reject=function(){throw new Error("Promise already completed.")};var n,r=0;while(n=this._thens[r++])n[e]&&n[e](t);delete this._thens}},typeof module!="undefined"&&module.exports?module.exports=n:typeof define=="function"&&define.amd?define("lib/rikschennink/utils/Promise",[],function(){return n}):e.Promise=n}(window),function(e,t,n){var r=t?t.body:null,i;r&&r.compareDocumentPosition?i=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:r&&r.contains?i=function(e,t){return e!=t&&e.contains(t)}:i=function(e,t){var n=t.parentNode;while(n){if(n===e)return!0;n=n.parentNode}return!1},typeof module!="undefined"&&module.exports?module.exports=i:typeof define=="function"&&define.amd?define("lib/rikschennink/utils/contains",[],function(){return i}):e.contains=i}(window,document),function(e,t,n){var r=null,i=null,s=t?t.body:null;!s||s.matches?i="matches":(s.webkitMatchesSelector?i="webkit":s.mozMatchesSelector?i="moz":s.msMatchesSelector?i="ms":s.oMatchesSelector&&(i="o"),i+="MatchesSelector"),i?r=function(e,t){return e[i](t)}:r=function(e,n){var r=(e.parentNode||t).querySelectorAll(n)||[],i=r.length;while(i--)if(r[i]==e)return!0;return!1},typeof module!="undefined"&&module.exports?module.exports=r:typeof define=="function"&&define.amd?define("lib/rikschennink/utils/matchesSelector",[],function(){return r}):e.matchesSelector=r}(window,document),function(e,t){var n=function(e,t){var r=Array.isArray(t),i=r&&[]||{};return t=t||{},r?i=t.concat():(e&&typeof e=="object"&&Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(r){typeof t[r]!="object"||!t[r]?i[r]=t[r]:e[r]?i[r]=n(e[r],t[r]):i[r]=t[r]})),i};typeof module!="undefined"&&module.exports?module.exports=n:typeof define=="function"&&define.amd?define("lib/rikschennink/utils/mergeObjects",[],function(){return n}):e.mergeObjects=n}(window),function(e,t){var n=function(t,n,r,i,s,o){var u,a,f,l=function(t,n){this._path=t,this._expected=n,this._watches=[],this._count=0};l.prototype={getPath:function(){return this._path},getExpected:function(){return this._expected},isTrue:function(){var e=0,t=this._count;for(;e<t;e++)if(!this._watches[e].valid)return!1;return!0},assignWatches:function(e){this._watches=e,this._count=e.length},toString:function(){return this._path+":{"+this._expected+"}"}};var c=function(e,t){this._expression=e,this._change=t,this._currentState=null};c.prototype={evaluate:function(){var e=this._expression.isTrue();e!=this._currentState&&(this._currentState=e,this._change(e))}};var h=function(){this._monitors=[],this._expressions=[]};h.prototype={_parse:function(e,t){if(this._expressions[e])return this._expressions[e];var n=0,r=e.split(","),i=r.length,s=[],o,u,a;for(;n<i;n++)o=r[n].split(":"),u=o[0].indexOf("was ")===0,a=u?o[0].substr(4):o[0],s.push({retain:u,test:a,value:t?a:typeof o[1]=="undefined"?!0:o[1]});return this._expressions[e]=s,s},_mergeData:function(e,t,n){return o({element:n,expected:t},e)},create:function(e,t){var i=new r,s=e.getPath(),o=e.getExpected(),a=this;return u.loader.require([u.paths.monitors+s],function(e){var r=0,u=a._monitors[s],f,l,c,h,p,d,v,m;if(!u){u={watches:[],change:function(e){r=0,f=u.watches.length;for(;r<f;r++)u.watches[r].test(e)}},v=e.unique?a._mergeData(e.data,o,t):e.data;if(typeof e.trigger=="function")e.trigger(u.change,v);else for(p in e.trigger){if(!e.trigger.hasOwnProperty(p))continue;e.trigger[p].addEventListener(p,u.change,!1)}e.unique||(a._monitors[s]=u)}c=[],m=typeof e.test=="function",h=e.parse?e.parse(o,m):a._parse(o,m),f=h.length;for(;r<f;r++)d=h[r],l={retain:d.retain,retained:null,valid:null,data:e.unique?v:a._mergeData(e.data,d.value,t),test:function(e){if(!e)throw new Error('Conditioner: Test "'+d.test+'" not found on "'+s+'" Monitor.');return function(t){if(this.retained)return;var r=e(this.data,t);this.valid!=r&&(this.valid=r,n.publish(this,"change")),this.valid&&this.retain&&(this.retained=!0)}}(m?e.test:e.test[d.test])},l.test(),c.push(l);u.watches=u.watches.concat(c),i.resolve(c)}),i}};var p={test:function(e,t,n){var r,i,s,o,u;r=m.parse(e),i=new c(r,n),s=0,o=r.getTests(),u=o.length;for(;s<u;s++)this._setupMonitor(o[s],t,i)},_setupMonitor:function(e,t,r){var i=0,s;a.create(e,t).then(function(t){e.assignWatches(t),s=t.length;for(;i<s;i++)n.subscribe(t[i],"change",function(){r.evaluate()});r.evaluate()})}},d=function(e,t){this._expression=e,this._negate=typeof t=="undefined"?!1:t};d.prototype={isTrue:function(){return this._expression.isTrue()!==this._negate},getTests:function(){return this._expression instanceof l?[this._expression]:this._expression.getTests()},toString:function(){return(this._negate?"not ":"")+this._expression.toString()}};var v=function(e,t,n){this._a=e,this._operator=t,this._b=n};v.prototype={isTrue:function(){return this._operator==="and"?this._a.isTrue()&&this._b.isTrue():this._a.isTrue()||this._b.isTrue()},getTests:function(){return this._a.getTests().concat(this._b.getTests())},toString:function(){return"("+this._a.toString()+" "+this._operator+" "+this._b.toString()+")"}};var m={parse:function(e){var t=0,n="",r=[],i="",s=!1,o=!1,u=null,a=null,f=[],c=e.length,h,p,m,g,y,b,w,E,S,x,T;u||(u=r);for(;t<c;t++){b=e.charCodeAt(t);if(b===123){o=!0,n="",w=t-2;while(w>=0){E=e.charCodeAt(w);if(E===32||E===40)break;n=e.charAt(w)+n,w--}continue}b===125&&(h=u.length-1,p=h+1,s=u[h]==="not",p=s?h:h+1,g=new l(n,i),u[p]=new d(g,s),n="",i="",s=!1,o=!1);if(o){i+=e.charAt(t);continue}b===40&&(u.push([]),f.push(u),u=u[u.length-1]);if(b===32||t===0||b===40){m=e.substr(t,5).match(/and |or |not /g);if(!m)continue;S=m[0],x=S.length-1,u.push(S.substring(0,x)),t+=x}if(b===41||t===c-1)do{a=f.pop();if(u.length===0){u=a;continue}y=0,T=u.length;for(;y<T;y++){if(typeof u[y]!="string")continue;u[y]==="not"?(u.splice(y,2,new d(u[y+1],!0)),y=-1,T=u.length):u[y+1]!=="not"&&(u.splice(y-1,3,new v(u[y-1],u[y],u[y+1])),y=-1,T=u.length)}u.length===1&&a&&(a[a.length-1]=u[0],u=a)}while(t===c-1&&a)}return r.length===1?r[0]:r}},g={init:function(e){e()},allowsActivation:function(){return!0},destroy:function(){}},y=function(e,t){if(typeof e!="string"||!e.length)return;this._conditions=e,this._element=t,this._state=!1};y.prototype={init:function(e){var t=this,r=!1;p.test(this._conditions,this._element,function(i){t._state=i,n.publish(t,"change"),r||(r=!0,e())})},allowsActivation:function(){return this._state},destroy:function(){}};var b={_options:{},_redirects:{},registerModule:function(e,t,n){this._options[u.loader.toUrl(e)]=t,n&&(this._redirects[n]=e),u.loader.config(e,t)},getRedirect:function(e){return this._redirects[e]||e},getModule:function(e){if(!e)throw new Error('ModuleRegistry.getModule(path): "path" is a required parameter.');return this._options[e]||this._options[u.loader.toUrl(e)]}},w=function(e,t,n,r){if(!e||!t)throw new Error('ModuleController(path,element,options,agent): "path" and "element" are required parameters.');this._path=b.getRedirect(e),this._alias=e,this._element=t,this._options=n,this._agent=r||g,this._Module=null,this._module=null,this._initialized=!1,this._onAgentStateChangeBind=this._onAgentStateChange.bind(this);var i=this;this._agent.init(function(){i._initialize()})};w.prototype={hasInitialized:function(){return this._initialized},getModulePath:function(){return this._path},isModuleAvailable:function(){return this._agent.allowsActivation()&&!this._module},isModuleActive:function(){return this._module!==null},wrapsModuleWithPath:function(e){return this._path===e||this._alias===e},_initialize:function(){this._initialized=!0,n.subscribe(this._agent,"change",this._onAgentStateChangeBind),n.publishAsync(this,"init",this),this._agent.allowsActivation()&&this._onBecameAvailable()},_onBecameAvailable:function(){n.publishAsync(this,"available",this),this._load()},_onAgentStateChange:function(){var e=this._agent.allowsActivation();this._module&&!e?this._unload():!this._module&&e&&this._onBecameAvailable()},_load:function(){if(this._Module){this._onLoad();return}var e=this;u.loader.require([this._path],function(t){if(!t)throw new Error("ModuleController: A module needs to export an object.");e._Module=t,e._onLoad()})},_applyOverrides:function(e,t){if(typeof t=="string"){if(t.charCodeAt(0)!=123){var r=0,i=t.split(", "),s=i.length;for(;r<s;r++)this._overrideObjectWithUri(e,i[r]);return e}try{t=JSON.parse(t)}catch(n){throw new Error('ModuleController.load(): "options" is not a valid JSON string.')}}return o(e,t)},_overrideObjectWithUri:function(e,t){var n=e,r="",i=0,s=t.length,o;while(i<s){o=t.charCodeAt(i);if(o!=46&&o!=58)r+=t.charAt(i);else{if(o==58){n[r]=this._castValueToType(t.substr(i+1));break}n=n[r],r=""}i++}},_castValueToType:function(e){return e.charCodeAt(0)==39?e.substring(1,e.length-1):isNaN(e)?e=="true"||e=="false"?e==="true":e.indexOf(",")!==-1?e.split(",").map(this._castValueToType):e:parseFloat(e)},_parseOptions:function(e,t,n){var r=[],i={},s={},u,a;do u=b.getModule(e),r.push({page:u,module:t.options}),e=t.__superUrl;while(t=t.__super);a=r.length;while(a--)i=o(i,r[a].page),s=o(s,r[a].module);return u=o(s,i),n&&(u=this._applyOverrides(u,n)),u},_onLoad:function(){if(!this._agent.allowsActivation())return;var e=this._parseOptions(this._path,this._Module,this._options);typeof this._Module=="function"?this._module=new this._Module(this._element,e):(this._module=this._Module.load?this._Module.load(this._element,e):null,this._module||(this._module=this._Module));if(!this._module)throw new Error('ModuleController.load(): could not initialize module, missing constructor or "load" method.');n.inform(this._module,this),n.publishAsync(this,"load",this)},_unload:function(){return this._module?(n.conceal(this._module,this),this._module.unload&&this._module.unload(),this._module=null,n.publishAsync(this,"unload",this),!0):!1},destroy:function(){this._unload(),n.unsubscribe(this._agent,"change",this._onAgentStateChangeBind),this._agent.destroy()},execute:function(e,t){if(!this._module)return{status:404,response:null};var n=this._module[e];if(!n)throw new Error('ModuleController.execute(method,params): function specified in "method" not found on module.');return t=t||[],{status:200,response:n.apply(this._module,t)}}};var E=function(){var e=function(e){return e.isModuleActive()},t=function(e){return e.isModuleAvailable()},r=function(e){return e.getModulePath()},o=function(t,n){if(!t)throw new Error('NodeController(element): "element" is a required parameter.');this._element=t,this._element.setAttribute(u.attr.processed,"true"),this._priority=n?parseInt(n,10):0,this._moduleControllers=[],this._moduleAvailableBind=this._onModuleAvailable.bind(this),this._moduleLoadBind=this._onModuleLoad.bind(this),this._moduleUnloadBind=this._onModuleUnload.bind(this)};return o.hasProcessed=function(e){return e.getAttribute(u.attr.processed)==="true"},o.prototype={load:function(e){if(!e||!e.length)throw new Error("NodeController.load(): Expects an Array of module controllers as parameters.");this._moduleControllers=e;var t=0,r=this._moduleControllers.length,i;for(;t<r;t++)i=this._moduleControllers[t],n.subscribe(i,"available",this._moduleAvailableBind),n.subscribe(i,"load",this._moduleLoadBind)},destroy:function(){var e=0,t=this._moduleControllers.length;for(;e<t;e++)this._destroyModule(this._moduleControllers[e]);this._moduleControllers=[],this._updateAttribute(u.attr.initialized,this._moduleControllers),this._element.removeAttribute(u.attr.processed),this._element=null},_destroyModule:function(e){n.unsubscribe(e,"available",this._moduleAvailableBind),n.unsubscribe(e,"load",this._moduleLoadBind),n.unsubscribe(e,"unload",this._moduleUnloadBind),n.conceal(e,this),e.destroy()},getPriority:function(){return this._priority},getElement:function(){return this._element},matchesSelector:function(e,t){return t&&!i(t,this._element)?!1:s(this._element,e,t)},areAllModulesActive:function(){return this.getActiveModules().length===this._moduleControllers.length},getActiveModules:function(){return this._moduleControllers.filter(e)},getModule:function(e){return this._getModules(e,!0)},getModules:function(e){return this._getModules(e)},_getModules:function(e,t){if(typeof e=="undefined")return t?this._moduleControllers[0]:this._moduleControllers.concat();var n=0,r=this._moduleControllers.length,i=[],s;for(;n<r;n++){s=this._moduleControllers[n];if(!s.wrapsModuleWithPath(e))continue;if(t)return s;i.push(s)}return t?null:i},execute:function(e,t){return this._moduleControllers.map(function(n){return{controller:n,result:n.execute(e,t)}})},_onModuleAvailable:function(e){n.inform(e,this),this._updateAttribute(u.attr.loading,this._moduleControllers.filter(t))},_onModuleLoad:function(e){n.unsubscribe(e,"load",this._moduleLoadBind),n.subscribe(e,"unload",this._moduleUnloadBind),this._updateAttribute(u.attr.loading,this._moduleControllers.filter(t)),this._updateAttribute(u.attr.initialized,this.getActiveModules())},_onModuleUnload:function(e){n.subscribe(e,"load",this._moduleLoadBind),n.unsubscribe(e,"unload",this._moduleUnloadBind),n.conceal(e,this),this._updateAttribute(u.attr.initialized,this.getActiveModules())},_updateAttribute:function(e,t){var n=t.map(r);n.length?this._element.setAttribute(e,n.join(",")):this._element.removeAttribute(e)}},o}(),S=function(){if(!arguments||!arguments.length)throw new Error("SyncedControllerGroup(controllers): Expects an array of node controllers as parameters.");this._inSync=!1,this._controllers=arguments.length===1?arguments[0]:Array.prototype.slice.call(arguments,0),this._controllerLoadedBind=this._onLoad.bind(this),this._controllerUnloadedBind=this._onUnload.bind(this);var e=0,t,r=this._controllers.length;for(;e<r;e++){t=this._controllers[e];if(!t)throw new Error("SyncedControllerGroup(controllers): Stumbled upon an undefined controller is undefined.");n.subscribe(t,"load",this._controllerLoadedBind),n.subscribe(t,"unload",this._controllerUnloadedBind)}this._test()};S.prototype={destroy:function(){var e=0,t,r=this._controllers.length;for(;e<r;e++)t=this._controllers[e],n.unsubscribe(t,"load",this._controllerLoadedBind),n.unsubscribe(t,"unload",this._controllerUnloadedBind);this._controllers=[]},areAllModulesActive:function(){var e=0,t=this._controllers.length,n;for(;e<t;e++){n=this._controllers[e];if(!this._isActiveController(n))return!1}return!0},_onLoad:function(){this._test()},_onUnload:function(){this._unload()},_isActiveController:function(e){return e.isModuleActive&&e.isModuleActive()||e.areAllModulesActive&&e.areAllModulesActive()},_test:function(){if(!this.areAllModulesActive())return;this._load()},_load:function(){if(this._inSync)return;this._inSync=!0,n.publishAsync(this,"load",this._controllers)},_unload:function(){if(!this._inSync)return;this._inSync=!1,n.publish(this,"unload",this._controllers)}};var x=function(){this._nodes=[]};return x.prototype={parse:function(e){if(!e)throw new Error('ModuleLoader.loadModules(context): "context" is a required parameter.');var t=e.querySelectorAll("[data-module]"),n=t.length,r=0,i=[],s,o;if(!t)return[];for(;r<n;r++){o=t[r];if(E.hasProcessed(o))continue;i.push(new E(o,o.getAttribute(u.attr.priority)))}i.sort(function(e,t){return e.getPriority()-t.getPriority()}),r=i.length;while(--r>=0)s=i[r],s.load.call(s,this._getModuleControllersByElement(s.getElement()));return this._nodes=this._nodes.concat(i),i},load:function(e,t){if(!t)throw new Error('ModuleLoader.load(element,controllers): "controllers" is a required parameter.');t=t.length?t:[t];var n,r=0,i=t.length,s=[],o;n=new E(e);for(;r<i;r++)o=t[r],s.push(this._getModuleController(o.path,e,o.options,o.conditions));return n.load(s),this._nodes.push(n),n},getNodes:function(e,t,n){if(typeof e=="undefined"&&typeof t=="undefined")return n?this._nodes[0]:this._nodes.concat();var r=0,i=this._nodes.length,s=[],o;for(;r<i;r++){o=this._nodes[r];if(o.matchesSelector(e,t)){if(n)return o;s.push(o)}}return n?null:s},destroy:function(e){var t=e.length,n=0,r;while(t--){r=this._nodes.indexOf(e[t]);if(r===-1)continue;this._nodes.splice(r,1),e[t].destroy(),n++}return e.length===n},_getModuleControllersByElement:function(e){var t=e.getAttribute(u.attr.module)||"";if(t.charCodeAt(0)==91){var n=[],r=0,i,s,o;try{i=JSON.parse(t)}catch(a){throw new Error('ModuleLoader.load(context): "data-module" attribute contains a malformed JSON string.')}if(!i)return[];o=i.length;if(t.charCodeAt(1)==123){for(;r<o;r++)s=i[r],n[r]=this._getModuleController(s.path,e,s.options,s.conditions);return n}for(;r<o;r++)s=i[r],typeof s=="string"?n[r]=this._getModuleController(s,e):n[r]=this._getModuleController(s[0],e,typeof s[1]=="string"?s[2]:s[1],typeof s[1]=="string"?s[1]:s[2]);return n}return[this._getModuleController(t,e,e.getAttribute(u.attr.options),e.getAttribute(u.attr.conditions))]},_getModuleController:function(e,t,n,r){return new w(e,t,n,r?new y(r,t):g)}},u={paths:{monitors:"./monitors/"},attr:{options:"data-options",module:"data-module",conditions:"data-conditions",priority:"data-priority",initialized:"data-initialized",processed:"data-processed",loading:"data-loading"},loader:{require:function(e,n){t(e,n)},config:function(e,t){var n={};n[e]=t,requirejs.config({config:n})},toUrl:function(e){return requirejs.toUrl(e)}},modules:{}},a=new h,f=new x,{init:function(t){return t&&this.setOptions(t),f.parse(e.document)},setOptions:function(e){if(!e)throw new Error('Conditioner.setOptions(options): "options" is a required parameter.');var t,n,r,i;u=o(u,e);for(n in u.paths){if(!u.paths.hasOwnProperty(n))continue;u.paths[n]+=u.paths[n].slice(-1)!=="/"?"/":""}for(n in u.modules){if(!u.modules.hasOwnProperty(n))continue;r=u.modules[n],i=typeof r=="string"?r:r.alias,t=typeof r=="string"?null:r.options||{},b.registerModule(n,t,i)}},parse:function(e){if(!e)throw new Error('Conditioner.parse(context): "context" is a required parameter.');return f.parse(e)},load:function(e,t){return f.load(e,t)},sync:function(){var e=Object.create(S.prototype);return S.apply(e,arguments.length===1&&!arguments.slice?arguments[0]:arguments),e},getNode:function(e,t){return f.getNodes(e,t,!0)},getNodes:function(e,t){return f.getNodes(e,t,!1)},destroy:function(){var e=[],t=arguments[0];if(!t)throw new Error("Conditioner.destroy(...): A DOM node, Array, String or NodeController is required as the first argument.");return Array.isArray(t)&&(e=t),typeof t=="string"?e=f.getNodes(t,arguments[1]):t instanceof E?e.push(t):t.nodeName&&(e=f.getNodes().filter(function(e){return i(t,e.getElement())})),e.length===0?!1:f.destroy(e)},getModule:function(e,t,n){var r=0,i=this.getNodes(t,n),s=i.length,o;for(;r<s;r++){o=i[r].getModule(e);if(o)return o}return null},getModules:function(e,t,n){var r=0,i=this.getNodes(t,n),s=i.length,o=[],u;for(;r<s;r++)u=i[r].getModules(e),u.length&&(o=o.concat(u));return o},is:function(e,t){if(!e)throw new Error('Conditioner.is(condition,[element]): "condition" is a required parameter.');var n=new r;return p.test(e,t,function(e){n.resolve(e)}),n},on:function(e,t,n){if(!e)throw new Error('Conditioner.on(condition,[element],callback): "condition" and "callback" are required parameter.');n=typeof t=="function"?t:n,p.test(e,t,function(e){n(e)})}}};if(typeof module!="undefined"&&module.exports)module.exports=n(require,require("./utils/Observer"),require("./utils/Promise"),require("./utils/contains"),require("./utils/matchesSelector"),require("./utils/mergeObjects"));else{if(typeof define!="function"||!define.amd)throw new Error("To use ConditionerJS you need to setup an AMD module loader or use something like Browserify.");define("lib/rikschennink/conditioner",["require","./utils/Observer","./utils/Promise","./utils/contains","./utils/matchesSelector","./utils/mergeObjects"],n)}}(this),require.config({map:{"*":{conditioner:"lib/rikschennink/conditioner","utils/Observer":"lib/rikschennink/utils/Observer","utils/mergeObjects":"lib/rikschennink/utils/mergeObjects"}},shim:{"lib/rikschennink/conditioner":["shim/DOMContentLoaded","shim/addEventListener","shim/Array.forEach","shim/Array.indexOf","shim/Array.isArray","shim/Function.bind","shim/Object.create","shim/Object.keys"],"lib/rikschennink/monitors/media":["shim/matchMedia","shim/matchMedia.addListener"]}}),require(["conditioner"],function(e){e.init({modules:{"ui/StarGazers":{options:{width:90,user:"rikschennink",repo:"conditioner"}},"ui/StorageConsentSelect":{options:{label:{level:{incognito:"Incognito"}}}},"security/StorageConsentGuard":{options:{levels:["all","incognito","none"],initial:"none"}}}})}),define("main",function(){}),define("security/StorageConsentGuard",["utils/Observer","utils/mergeObjects","module"],function(e,t,n){var r=function(){this._level=null,this.setOptions(n.config()),this._setDefaultLevel()},i=r.prototype;i.setOptions=function(e){e||(e={}),this._options=t({initial:"all",levels:["all","none"]},e),this._setDefaultLevel()},i._setDefaultLevel=function(){this.setActiveLevel(this._options.initial)},i.getLevels=function(){return this._options.levels},i.getActiveLevel=function(){return this._level},i.setActiveLevel=function(t){if(t==this._level)return;this._level=t,e.publish(this,"change",this._level)};var s;return{getInstance:function(){return s||(s=new r),s}}}),function(){var e=function(e,t){var n="";return{trigger:function(r){var i=t.getInstance();e.subscribe(i,"change",function(){n=i.getActiveLevel(),r()}),n=i.getActiveLevel()},parse:function(e){return[{value:e.split(",")}]},test:function(e){return e.expected.indexOf(n)!=-1}}};typeof module!="undefined"&&module.exports?module.exports=e(require("../utils/Observer"),require("security/StorageConsentGuard")):typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/cookies",["../utils/Observer","security/StorageConsentGuard"],function(t,n){return e(t,n)})}(),function(e,t){var n={trigger:{online:e,offline:e},test:{any:function(e){return e.expected}}};typeof module!="undefined"&&module.exports?module.exports=n:typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/connection",[],function(){return n})}(this),function(e,t){var n=function(t){var n=e.innerHeight,r=t.getBoundingClientRect();return r.top>0&&r.top<n||r.bottom>0&&r.bottom<n},r=function(e){return parseInt(e,10)},i={trigger:{resize:e,scroll:e},test:{visible:function(e){return e.seen=n(e.element),e.seen&&e.expected},"min-width":function(e){return r(e.expected)<=e.element.offsetWidth},"max-width":function(e){return r(e.expected)>=e.element.offsetWidth},"min-height":function(e){return r(e.expected)<=e.element.offsetHeight},"max-height":function(e){return r(e.expected)>=e.element.offsetHeight}}};typeof module!="undefined"&&module.exports?module.exports=i:typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/element",[],function(){return i})}(this),window.addEventListener&&(window.matchMedia=window.matchMedia||function(e,t){var n,r=e.documentElement,i=r.firstElementChild||r.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',r.insertBefore(s,i),n=o.offsetWidth===42,r.removeChild(s),{matches:n,media:e}}}(document)),define("shim/matchMedia",function(){}),window.addEventListener&&function(){if(!window.matchMedia("(min-width:0)").addListener){var e=window.matchMedia;window.matchMedia=function(t){var n=e(t),r=[],i=!1,s,o=function(){var s=e(t),o=s.matches&&!i,u=!s.matches&&i;if(o||u)for(var a=0,f=r.length;a<f;a++)r[a].call(n,s);i=s.matches};return n.addListener=function(e){r.push(e),s||(s=setInterval(o,1e3))},n.removeListener=function(e){for(var t=0,n=r.length;t<n;t++)r[t]===e&&r.splice(t,1);!r.length&&s&&clearInterval(s)},n}}}(),define("shim/matchMedia.addListener",function(){}),function(e,t){var n={unique:!0,data:{mql:null},trigger:function(t,n){if(n.expected==="supported")return;n.mql=e.matchMedia(n.expected),n.mql.addListener(function(){t()})},parse:function(e){var t=[];return e==="supported"?t.push({test:"supported",value:!0}):t.push({test:"query",value:e}),t},test:{supported:function(){return"matchMedia"in e},query:function(e){return e.mql.matches}}};typeof module!="undefined"&&module.exports?module.exports=n:typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/media",[],function(){return n})}(this),function(e,t){var n=e.document,r=n.documentElement||n.body.parentNode||n.body,i=function(){return e.pageXOffset!==t?e.pageXOffset:r.scrollLeft},s=function(){return e.pageYOffset!==t?e.pageYOffset:r.scrollTop},o=function(e,t){if(!t)return;var n=e.getBoundingClientRect(),r=t.pageX-i(),o=t.pageY-s(),u,a;return r<n.left?u=n.left:r>n.right?u=n.right:u=r,o<n.top?a=n.top:o>n.bottom?a=n.bottom:a=o,u===r&&a===o?0:Math.pow(r-u,2)+Math.pow(o-a,2)},u=e.PointerEvent||e.MSPointerEvent,a=e.PointerEvent?"pointermove":"MSPointerMove",f={available:!1,moves:0,movesRequired:2},l={trigger:function(e){var t=function r(t){if(u){f.available=t.pointerType===4||t.pointerType===3;if(!f.available)return;n.removeEventListener(a,r,!1),e();return}if(t.type!=="mousemove"){f.moves=0;return}++f.moves>=f.movesRequired&&(n.removeEventListener("mousemove",r,!1),n.removeEventListener("mousedown",r,!1),f.available=!0,e())};u?n.addEventListener(a,t,!1):(n.addEventListener("mousemove",t,!1),n.addEventListener("mousedown",t,!1)),n.addEventListener("mousemove",function(t){e(t)},!1)},test:{near:function(e,t){if(!f.available)return!1;var n=e.expected===!0?50:parseInt(e.expected,10);return e.beenNear=n*n>=o(e.element,t)},fine:function(e){return f.available===e.expected}}};typeof module!="undefined"&&module.exports?module.exports=l:typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/pointer",[],function(){return l})}(this),function(e,t){var n=e.document,r=function(){return e.innerWidth||n.documentElement.clientWidth},i=function(){return e.innerHeight||n.documentElement.clientHeight},s=function(e){return parseInt(e,10)},o={trigger:{resize:e},test:{"min-width":function(e){return s(e.expected)<=r()},"max-width":function(e){return s(e.expected)>=r()},"min-height":function(e){return s(e.expected)<=i()},"max-height":function(e){return s(e.expected)>=i()}}};typeof module!="undefined"&&module.exports?module.exports=o:typeof define=="function"&&define.amd&&define("lib/rikschennink/monitors/window",[],function(){return o})}(this),define("ui/Clock",[],function(){var e=function(e){return e<10?"0"+e:e},t=function(e,t){this._element=e,this._options=t,this._time=document.createElement("p"),this._tick(),this._element.appendChild(this._time)};return t.options={time:!0},t.prototype._tick=function(){var t=this,n=new Date,r=e(n.getDate())+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),i=e(n.getHours())+":"+e(n.getMinutes())+":"+e(n.getSeconds());this._time.textContent=r+(this._options.time?" - "+i:"");if(!this._options.time)return;this._timer=setTimeout(function(){t._tick()},900)},t.prototype.unload=function(){clearTimeout(this._timer),this._time.parentNode.removeChild(this._time)},t}),define("ui/Zoom",[],function(){var e=function(e,t){this._element=e,this._options=t,this._btn=document.createElement("button"),this._btn.textContent="zoom in",this._btn.addEventListener("click",this,!1),this._element.appendChild(this._btn)};return e.options={fontSize:"2em"},e.prototype={handleEvent:function(e){e.type==="click"&&(this._element.style.fontSize?this._zoomOut():this._zoomIn())},_zoomIn:function(){this._btn.textContent="zoom out",this._element.style.fontSize=this._options.fontSize},_zoomOut:function(){this._btn.textContent="zoom in",this._element.style.fontSize=null},unload:function(){this._zoomOut(),this._btn.removeEventListener("click",this,!1),this._btn.parentNode.removeChild(this._btn)}},e}),define("ui/StorageConsentSelect",["security/StorageConsentGuard"],function(e){var t=function(t,n){this._element=t,this._options=n,this._storageGuard=e.getInstance(),this._inner=this._element.innerHTML;var r,i=this._options.label.level,s="";for(r in i){if(!i.hasOwnProperty(r))continue;s+="<option"+(r==this._storageGuard.getActiveLevel()?' selected="selected"':"")+' value="'+r+'">'+this._options.label.level[r]+"</option>"}this._element.innerHTML='<label for="storage-consent">'+this._options.label.select+"</label>"+'<select id="storage-consent">'+s+"</select>",this._element.querySelector("select").addEventListener("change",this)};return t.options={label:{select:"Cookies",level:{all:"All",none:"None"}}},t.prototype.handleEvent=function(e){if(e.type==="change"){var t=this._element.querySelector("select"),n=t.options[t.selectedIndex].value;this._storageGuard.setActiveLevel(n)}},t.prototype.unload=function(){this._element.querySelector("select").removeEventListener("change",this),this._element.innerHTML=this._inner},t}),define("ui/StarGazers",[],function(){var e=function(e,t){this._element=e,this._options=t,this._inner=this._element.innerHTML,this._load()};return e.options={user:"mdo",repo:"github-buttons",width:80,height:20,count:!0,type:"watch"},e.prototype._load=function(){this._element.innerHTML='<iframe src="http://ghbtns.com/github-btn.html?user='+this._options.user+"&repo="+this._options.repo+"&type="+this._options.type+"&count="+this._options.count+'"'+'allowtransparency="true" '+'frameborder="0" '+'scrolling="0" '+'width="'+this._options.width+'" '+'height="'+this._options.height+'"></iframe>'},e.prototype.unload=function(){this._element.innerHTML=this._inner},e});