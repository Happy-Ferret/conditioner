var contentLoaded=function(t,e){var n=!1,i=!0,o=t.document,r=o.documentElement,s="attachEvent",u="detachEvent",l="on",a=function(i){"readystatechange"==i.type&&"complete"!=o.readyState||(("load"==i.type?t:o)[u](l+i.type,a,!1),!n&&(n=!0)&&e.call(t,i.type||i))},c=function(){try{r.doScroll("left")}catch(t){return void setTimeout(c,50)}a("poll")};if("complete"==o.readyState)e.call(t,"lazy");else{if(o.createEventObject&&r.doScroll){try{i=!t.frameElement}catch(t){}i&&c()}o[s](l+"DOMContentLoaded",a,!1),o[s](l+"readystatechange",a,!1),t[s](l+"load",a,!1)}};define("shim/DOMContentLoaded",function(){}),!window.addEventListener&&function(t,e,n,i,o,r,s,u){e[o]=n[o]=i[o]=function(e,n){if("DOMContentLoaded"==e&&contentLoaded)return void contentLoaded(t,n);var i=this;u.unshift([i,e,n,function(t){t.currentTarget=i,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||i,n.call(i,t)}]),this.attachEvent("on"+e,u[0][3])},e[r]=n[r]=i[r]=function(t,e){for(var n,i=0;n=u[i];++i)if(n[0]==this&&n[1]==t&&n[2]==e)return this.detachEvent("on"+t,u.splice(i,1)[0][3])},e[s]=n[s]=i[s]=function(t){return this.fireEvent("on"+t.type,t)}}(window,Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),define("shim/addEventListener",function(){}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){for(var n=0,i=this.length;n<i;++n)t.call(e,this[n],n,this)}),define("shim/Array.forEach",function(){}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,r=0;r<n;r++)if(r in e){var s=e[r];t.call(o,s,r,e)&&i.push(s)}return i}),define("shim/Array.filter",function(){}),Array.prototype.map||(Array.prototype.map=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=new Array(n),o=arguments.length>=2?arguments[1]:void 0,r=0;r<n;r++)r in e&&(i[r]=t.call(o,e[r],r,e));return i}),define("shim/Array.map",function(){}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(t,e){void 0===e&&(e=0),e<0&&(e+=this.length),e<0&&(e=0);for(var n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1}),define("shim/Array.indexOf",function(){}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),define("shim/Array.isArray",function(){}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o}),define("shim/Function.bind",function(){}),Object.create||(Object.create=function(t){function e(){}if(arguments.length>1)throw new Error("Object.create implementation only accepts the first parameter.");return e.prototype=t,new e}),define("shim/Object.create",function(){}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var r=[];for(var s in o)t.call(o,s)&&r.push(s);if(e)for(var u=0;u<i;u++)t.call(o,n[u])&&r.push(n[u]);return r}}()),define("shim/Object.keys",function(){}),function(t,e){"use strict";var n=1,i={},o={_setEntry:function(t,e){var o=t.__pubSubUID;return o||(o=n++,t.__pubSubUID=o,i[o]={obj:t}),i[o][e]||(i[o][e]=[]),i[o]},_getEntryProp:function(t,e){var n=i[t.__pubSubUID];return n?i[t.__pubSubUID][e]:null},_clearEntry:function(t){var e=i[t.__pubSubUID];!e||e.subscriptions&&e.subscriptions.length||e.receivers&&e.receivers.length||(e.subscriptions=null,e.receivers=null,e.obj=null,delete i[t.__pubSubUID],t.__pubSubUID=null)},subscribe:function(t,e,n){for(var i,o=this._setEntry(t,"subscriptions"),r=0,s=o.subscriptions,u=s.length;r<u;r++)if(i=s[r],i.type===e&&i.fn===n)return;s.push({type:e,fn:n})},unsubscribe:function(t,e,n){var i=this._getEntryProp(t,"subscriptions");if(i){for(var o,r=i.length;--r>=0;)o=i[r],o.type!==e||o.fn!==n&&n||i.splice(r,1);i.length||this._clearEntry(t)}},publishAsync:function(t,e,n){var i=this;setTimeout(function(){i.publish(t,e,n)},0)},publish:function(t,e,n){for(var i,o=this._setEntry(t,"subscriptions"),r=[],s=0,u=o.subscriptions,l=u.length,a=o.receivers;s<l;s++)i=u[s],i.type===e&&r.push(i);for(l=r.length,s=0;s<l;s++)r[s].fn(n);if(a&&(a.length||u.length)||this._clearEntry(t),a)for(l=a.length,s=0;s<l;s++)this.publish(a[s],e,n)},inform:function(t,e){if(!t||!e)return!1;var n=this._setEntry(t,"receivers");return n.receivers.push(e),!0},conceal:function(t,e){if(!t||!e)return!1;var n=this._getEntryProp(t,"receivers");if(!n)return!1;for(var i,o=n.length,r=!1;--o>=0;)i=n[o],i===e&&(n.splice(o,1),r=!0);return n.length||this._clearEntry(t),r}};"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd?define("lib/rikschennink/utils/Observer",[],function(){return o}):t.Observer=o}(window),function(t,e){"use strict";var n=function(){this._thens=[]};n.prototype={then:function(t,e){this._thens.push({resolve:t,reject:e})},resolve:function(t){this._complete("resolve",t)},reject:function(t){this._complete("reject",t)},_complete:function(t,e){this.then="resolve"===t?function(t,n){t(e)}:function(t,n){n(e)},this.resolve=this.reject=function(){throw new Error("Promise already completed.")};for(var n,i=0;n=this._thens[i++];)n[t]&&n[t](e);delete this._thens}},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("lib/rikschennink/utils/Promise",[],function(){return n}):t.Promise=n}(window),function(t,e){"use strict";var n,i=t.document?t.document.body:null;n=i&&i.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:i&&i.contains?function(t,e){return t!=e&&t.contains(e)}:function(t,e){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("lib/rikschennink/utils/contains",[],function(){return n}):t.contains=n}(window),function(t,e){"use strict";var n=null,i=null,o=t.document?t.document.body:null;!o||o.matches?i="matches":(o.webkitMatchesSelector?i="webkit":o.mozMatchesSelector?i="moz":o.msMatchesSelector?i="ms":o.oMatchesSelector&&(i="o"),i+="MatchesSelector"),n=i?function(t,e){return t[i](e)}:function(e,n){for(var i=(e.parentNode||t.document).querySelectorAll(n)||[],o=i.length;o--;)if(i[o]==e)return!0;return!1},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("lib/rikschennink/utils/matchesSelector",[],function(){return n}):t.matchesSelector=n}(window),function(t,e){"use strict";var n=function(t,e){var i=Array.isArray(e),o=i&&[]||{};return e=e||{},i?o=e.concat():(t&&"object"==typeof t&&Object.keys(t).forEach(function(e){o[e]=t[e]}),Object.keys(e).forEach(function(i){"object"==typeof e[i]&&e[i]&&t[i]?o[i]=n(t[i],e[i]):o[i]=e[i]})),o};"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define("lib/rikschennink/utils/mergeObjects",[],function(){return n}):t.mergeObjects=n}(window),function(t,e){"use strict";var n=function(e,n,i,o,r,s){var u,l,a,c=function(t,e){this._path=t,this._expected=e,this._watches=[],this._count=0,this._monitor=null};c.prototype={getPath:function(){return this._path},getExpected:function(){return this._expected},isTrue:function(){for(var t=0,e=this._count;t<e;t++)if(!this._watches[t].valid)return!1;return!0},assignMonitor:function(t){this._monitor=t},assignWatches:function(t){this._watches=t,this._count=t.length},getMonitor:function(){return this._monitor},getWatches:function(){return this._watches},toString:function(){return this._path+":{"+this._expected+"}"}};var d=function(t,e){this._expression=t,this._change=e,this._currentState=null};d.prototype={evaluate:function(){var t=this._expression.isTrue();t!=this._currentState&&(this._currentState=t,this._change(t))}};var h=function(){this._uid=1,this._db=[],this._expressions=[]};h.prototype={_parse:function(t,e){if(this._expressions[t])return this._expressions[t];for(var n,i,o,r=0,s=t.split(","),u=s.length,l=[];r<u;r++)n=s[r].split(":"),i=0===n[0].indexOf("was "),o=i?n[0].substr(4):n[0],l.push({retain:i,test:o,value:e?o:"undefined"==typeof n[1]||n[1]});return this._expressions[t]=l,l},_mergeData:function(t,e,n){return s({element:n,expected:e},t)},create:function(t,e){var n=new i,o=t.getPath(),r=t.getExpected(),s=this;return u.loader.require([u.paths.monitors+o],function(i){var u,l,a,c,d,h,f,p,m=0,_=s._db[o],g=i.unload?s._uid++:o;if(!_){if(_={watches:[],change:function(t){for(m=0,u=_.watches.length;m<u;m++)_.watches[m].test(t)}},f=i.unload?s._mergeData(i.data,r,e):i.data,"function"==typeof i.unload&&(_.unload=function(t){return function(){i.unload(t)}}(f)),"function"==typeof i.trigger)i.trigger(_.change,f);else for(d in i.trigger)i.trigger.hasOwnProperty(d)&&i.trigger[d].addEventListener(d,_.change,!1);s._db[g]=_}for(t.assignMonitor(g),a=[],p="function"==typeof i.test,c=i.parse?i.parse(r,p):s._parse(r,p),u=c.length;m<u;m++)h=c[m],l={changed:null,retain:h.retain,retained:null,valid:null,data:i.unload?f:s._mergeData(i.data,h.value,e),test:function(t){if(!t)throw new Error('Conditioner: Test "'+h.test+'" not found on "'+o+'" Monitor.');return function(e){if(!this.retained){var n=t(this.data,e);this.valid!=n&&(this.valid=n,this.changed&&this.changed()),this.valid&&this.retain&&(this.retained=!0)}}}(p?i.test:i.test[h.test])},l.test(),a.push(l);_.watches=_.watches.concat(a),n.resolve(a)}),n},destroy:function(t){var e=t.getMonitor();if(null!==e){var n,i=this._db[e],o=i.watches,r=o.length;t.getWatches().forEach(function(t){for(n=0;n<r;n++)o[n]===t&&o.splice(n,1)}),i.unload&&(i.unload(),this._db[e]=null)}}};var f=function(t,e,n){var i=g.parse(t);this._element=e,this._tests=i.getTests(),this._condition=new d(i,n),this._conditionChangeBind=this._condition.evaluate.bind(this._condition),this._load()};f.prototype={_load:function(){for(var t=0,e=this._tests.length;t<e;t++)this._setupMonitorForTest(this._tests[t])},_setupMonitorForTest:function(t){var e,n=this,i=0;l.create(t,this._element).then(function(o){for(t.assignWatches(o),e=o.length;i<e;i++)o[i].changed=n._conditionChangeBind;n._condition.evaluate()})},destroy:function(){for(var t=0,e=this._tests.length;t<e;t++)l.destroy(this._tests[t]);this._conditionChangeBind=null}};var p={_uid:0,_db:[],clearTest:function(t){var e=this._db[t];return!!e&&(this._db[t]=null,void e.destroy())},setTest:function(t,e,n){var i=this._uid++;return this._db[i]=new f(t,e,n),i}},m=function(t,e){this._expression=t,this._negate="undefined"!=typeof e&&e};m.prototype={isTrue:function(){return this._expression.isTrue()!==this._negate},getTests:function(){return this._expression instanceof c?[this._expression]:this._expression.getTests()},toString:function(){return(this._negate?"not ":"")+this._expression.toString()}};var _=function(t,e,n){this._a=t,this._operator=e,this._b=n};_.prototype={isTrue:function(){return"and"===this._operator?this._a.isTrue()&&this._b.isTrue():this._a.isTrue()||this._b.isTrue()},getTests:function(){return this._a.getTests().concat(this._b.getTests())},toString:function(){return"("+this._a.toString()+" "+this._operator+" "+this._b.toString()+")"}};var g=function(t,e){return{validate:function(t){if(!t)return!1;var e=new RegExp("[a-z]+:{[^}]*}","g"),n=t.match(e);if(!n||!n.length)return!1;var i=t.replace(e,"");if(i.length&&i.replace(/(not|or|and| |\)|\()/g,"").length)return!1;var o=(t.match(/[{}]/g)||[]).length;return 2*n.length===o},parse:function(n){var i,o,r,s,u,l,a,d,h,f,p,m=0,_="",g=[],v="",y=!1,b=!1,w=null,M=null,A=[],E=n.length;if(w||(w=g),!n||!this.validate(n))throw new Error('Expressionparser.parse(expression): "expression" is invalid.');for(;m<E;m++)if(l=n.charCodeAt(m),123!==l)if(125===l&&(i=w.length-1,o=i+1,y="not"===w[i],o=y?i:i+1,s=new c(_,v),w[o]=new t(s,y),_="",v="",y=!1,b=!1),b)v+=n.charAt(m);else{if(40===l&&(w.push([]),A.push(w),w=w[w.length-1]),32===l||0===m||40===l){if(r=n.substr(m,5).match(/and |or |not /g),!r)continue;h=r[0],f=h.length-1,w.push(h.substring(0,f)),m+=f}if(41===l||m===E-1)do if(M=A.pop(),0!==w.length){for(u=0,p=w.length;u<p;u++)"string"==typeof w[u]&&("not"===w[u]?(w.splice(u,2,new t(w[u+1],!0)),u=-1,p=w.length):"not"!==w[u+1]&&(w.splice(u-1,3,new e(w[u-1],w[u],w[u+1])),u=-1,p=w.length));1===w.length&&M&&(M[M.length-1]=w[0],w=M)}else w=M;while(m===E-1&&M)}else for(b=!0,_="",a=m-2;a>=0&&(d=n.charCodeAt(a),32!==d&&40!==d);)_=n.charAt(a)+_,a--;return 1===g.length?g[0]:g}}}(m,_),v={init:function(t){t()},allowsActivation:function(){return!0},destroy:function(){}},y=function(t,e){"string"==typeof t&&t.length&&(this._conditions=t,this._element=e,this._state=!1,this._test=null)};y.prototype={init:function(t){var e=this,i=!1;this._test=p.setTest(this._conditions,this._element,function(o){e._state=o,n.publish(e,"change"),i||(i=!0,t())})},allowsActivation:function(){return this._state},destroy:function(){p.clearTest(this._test)}};var b={_options:{},_redirects:{},_enabled:{},registerModule:function(t,e,n,i){this._options[u.loader.toUrl(t)]=e,this._enabled[t]=i,n&&(this._redirects[n]=t),u.loader.config(t,e)},isModuleEnabled:function(t){return this._enabled[t]!==!1},getRedirect:function(t){return this._redirects[t]||t},getModule:function(t){if(!t)throw new Error('ModuleRegistry.getModule(path): "path" is a required parameter.');return this._options[t]||this._options[u.loader.toUrl(t)]}},w=function(t,e,n,i){if(!t||!e)throw new Error('ModuleController(path,element,options,agent): "path" and "element" are required parameters.');this._path=b.getRedirect(t),this._alias=t,this._element=e,this._options=n,this._agent=i||v,this._Module=null,this._module=null,this._initialized=!1,this._onAgentStateChangeBind=this._onAgentStateChange.bind(this);var o=this;this._agent.init(function(){o._initialize()})};w.prototype={hasInitialized:function(){return this._initialized},getElement:function(){return this._element},getModulePath:function(){return this._path},isModuleAvailable:function(){return this._agent.allowsActivation()&&!this._module},isModuleActive:function(){return null!==this._module},wrapsModuleWithPath:function(t){return this._path===t||this._alias===t},_initialize:function(){this._initialized=!0,n.subscribe(this._agent,"change",this._onAgentStateChangeBind),n.publishAsync(this,"init",this),this._agent.allowsActivation()&&this._onBecameAvailable()},_onBecameAvailable:function(){n.publishAsync(this,"available",this),this._load()},_onAgentStateChange:function(){var t=this._agent.allowsActivation();this._module&&!t?this._unload():!this._module&&t&&this._onBecameAvailable()},_load:function(){if(this._Module)return void this._onLoad();var t=this;u.loader.require([this._path],function(e){if(!e)throw new Error("ModuleController: A module needs to export an object.");t._agent&&(t._Module=e,t._onLoad())})},_applyOverrides:function(t,e){if("string"==typeof e){if(123!=e.charCodeAt(0)){for(var n=0,i=e.split(", "),o=i.length;n<o;n++)this._overrideObjectWithUri(t,i[n]);return t}try{e=JSON.parse(e)}catch(t){throw new Error('ModuleController.load(): "options" is not a valid JSON string.')}}return s(t,e)},_overrideObjectWithUri:function(t,e){for(var n,i=t,o="",r=0,s=e.length;r<s;){if(n=e.charCodeAt(r),46!=n&&58!=n)o+=e.charAt(r);else{if(58==n){i[o]=this._castValueToType(e.substr(r+1));break}i=i[o],o=""}r++}},_castValueToType:function(t){return 39==t.charCodeAt(0)?t.substring(1,t.length-1):isNaN(t)?"true"==t||"false"==t?"true"===t:t.indexOf(",")!==-1?t.split(",").map(this._castValueToType):t:parseFloat(t)},_parseOptions:function(t,e,n){var i,o,r=[],u={},l={};do i=b.getModule(t),r.push({page:i,module:e.options}),t=e.__superUrl;while(e=e.__super);for(o=r.length;o--;)u=s(u,r[o].page),l=s(l,r[o].module);return i=s(l,u),n&&(i=this._applyOverrides(i,n)),i},_onLoad:function(){if(this._agent.allowsActivation()){var t=this._parseOptions(this._path,this._Module,this._options);if("function"==typeof this._Module?this._module=new this._Module(this._element,t):(this._module=this._Module.load?this._Module.load(this._element,t):null,this._module||(this._module=this._Module)),!this._module)throw new Error('ModuleController.load(): could not initialize module, missing constructor or "load" method.');n.inform(this._module,this),n.publishAsync(this,"load",this)}},_unload:function(){return!!this._module&&(n.conceal(this._module,this),this._module.unload&&this._module.unload(),this._module=null,n.publish(this,"unload",this),!0)},destroy:function(){n.unsubscribe(this._agent,"change",this._onAgentStateChangeBind),this._unload(),this._agent.destroy(),this._onAgentStateChangeBind=null},execute:function(t,e){if(!this._module)return{status:404,response:null};var n=this._module[t];if(!n)throw new Error('ModuleController.execute(method,params): function specified in "method" not found on module.');return e=e||[],{status:200,response:n.apply(this._module,e)}}};var M=function(){var t=function(t){return t.isModuleActive()},e=function(t){return t.isModuleAvailable()},i=function(t){return t.getModulePath()},s=function(t,e){if(!t)throw new Error('NodeController(element): "element" is a required parameter.');this._element=t,this._element.setAttribute(u.attr.processed,"true"),this._priority=e?parseInt(e,10):0,this._moduleControllers=[],this._moduleAvailableBind=this._onModuleAvailable.bind(this),this._moduleLoadBind=this._onModuleLoad.bind(this),this._moduleUnloadBind=this._onModuleUnload.bind(this)};return s.hasProcessed=function(t){return"true"===t.getAttribute(u.attr.processed)},s.prototype={load:function(t){if(t&&t.length){this._moduleControllers=t;for(var e,i=0,o=this._moduleControllers.length;i<o;i++)e=this._moduleControllers[i],n.subscribe(e,"available",this._moduleAvailableBind),n.subscribe(e,"load",this._moduleLoadBind)}},destroy:function(){for(var t=0,e=this._moduleControllers.length;t<e;t++)this._destroyModule(this._moduleControllers[t]);this._moduleAvailableBind=null,this._moduleLoadBind=null,this._moduleUnloadBind=null,this._updateAttribute(u.attr.initialized,this._moduleControllers),this._moduleControllers=null,this._element.removeAttribute(u.attr.processed)},_destroyModule:function(t){n.unsubscribe(t,"available",this._moduleAvailableBind),n.unsubscribe(t,"load",this._moduleLoadBind),n.unsubscribe(t,"unload",this._moduleUnloadBind),n.conceal(t,this),t.destroy()},getPriority:function(){return this._priority},getElement:function(){return this._element},matchesSelector:function(t,e){return!t&&e?o(e,this._element):!(e&&!o(e,this._element))&&r(this._element,t)},areAllModulesActive:function(){return this.getActiveModules().length===this._moduleControllers.length},getActiveModules:function(){return this._moduleControllers.filter(t)},getModule:function(t){return this._getModules(t,!0)},getModules:function(t){return this._getModules(t)},_getModules:function(t,e){if("undefined"==typeof t)return e?this._moduleControllers[0]:this._moduleControllers.concat();for(var n,i=0,o=this._moduleControllers.length,r=[];i<o;i++)if(n=this._moduleControllers[i],n.wrapsModuleWithPath(t)){if(e)return n;r.push(n)}return e?null:r},execute:function(t,e){return this._moduleControllers.map(function(n){return{controller:n,result:n.execute(t,e)}})},_onModuleAvailable:function(t){n.inform(t,this),this._updateAttribute(u.attr.loading,this._moduleControllers.filter(e))},_onModuleLoad:function(t){n.unsubscribe(t,"load",this._moduleLoadBind),n.subscribe(t,"unload",this._moduleUnloadBind),this._updateAttribute(u.attr.loading,this._moduleControllers.filter(e)),this._updateAttribute(u.attr.initialized,this.getActiveModules())},_onModuleUnload:function(t){n.subscribe(t,"load",this._moduleLoadBind),n.unsubscribe(t,"unload",this._moduleUnloadBind),this._updateAttribute(u.attr.initialized,this.getActiveModules());var e=this;setTimeout(function(){n.conceal(t,e)},0)},_updateAttribute:function(t,e){var n=e.map(i);n.length?this._element.setAttribute(t,n.join(",")):this._element.removeAttribute(t)}},s}(),A=function(t){if(!t||!t.splice)throw new Error("SyncedControllerGroup(controllers): Expects an array of node controllers as parameters.");this._inSync=!1,this._controllers=t,this._controllerLoadedBind=this._onLoad.bind(this),this._controllerUnloadedBind=this._onUnload.bind(this);for(var e,i=0,o=this._controllers.length;i<o;i++){if(e=this._controllers[i],!e)throw this.destroy(),new Error("SyncedControllerGroup(controllers): Stumbled upon an undefined controller");n.subscribe(e,"load",this._controllerLoadedBind),n.subscribe(e,"unload",this._controllerUnloadedBind)}this._test()};A.prototype={destroy:function(){for(var t,e=0,i=this._controllers.length;e<i;e++)t=this._controllers[e],t&&(n.unsubscribe(t,"load",this._controllerLoadedBind),n.unsubscribe(t,"unload",this._controllerUnloadedBind));this._controllerLoadedBind=null,this._controllerUnloadedBind=null,this._controllers=null},areAllModulesActive:function(){for(var t,e=0,n=this._controllers.length;e<n;e++)if(t=this._controllers[e],!this._isActiveController(t))return!1;return!0},_onLoad:function(){this._test()},_onUnload:function(){this._unload()},_isActiveController:function(t){return t.isModuleActive&&t.isModuleActive()||t.areAllModulesActive&&t.areAllModulesActive()},_test:function(){this.areAllModulesActive()&&this._load()},_load:function(){this._inSync||(this._inSync=!0,n.publishAsync(this,"load",this._controllers))},_unload:function(){this._inSync&&(this._inSync=!1,n.publish(this,"unload",this._controllers))}};var E=new RegExp("^\\[\\s*{"),C=function(){this._nodes=[]};return C.prototype={parse:function(t){if(!t)throw new Error('ModuleLoader.loadModules(context): "context" is a required parameter.');var e,n,i=t.querySelectorAll("[data-module]"),o=i.length,r=0,s=[];if(!i)return[];for(;r<o;r++)n=i[r],M.hasProcessed(n)||s.push(new M(n,n.getAttribute(u.attr.priority)));for(s.sort(function(t,e){return t.getPriority()-e.getPriority()}),r=s.length;--r>=0;)e=s[r],e.load.call(e,this._getModuleControllersByElement(e.getElement()));return this._nodes=this._nodes.concat(s),s},load:function(t,e){if(!e)throw new Error('ModuleLoader.load(element,controllers): "controllers" is a required parameter.');e=e.length?e:[e];var n,i,o=0,r=e.length,s=[];for(i=new M(t);o<r;o++)n=e[o],s.push(this._getModuleController(n.path,t,n.options,n.conditions));return i.load(s),this._nodes.push(i),i},getNodeByElement:function(t){for(var e,n=0,i=this._nodes.length;n<i;n++)if(e=this._nodes[n],e.getElement()===t)return e;return null},getNodes:function(t,e,n){if("undefined"==typeof t&&"undefined"==typeof e)return n?this._nodes[0]:this._nodes.concat();for(var i,o=0,r=this._nodes.length,s=[];o<r;o++)if(i=this._nodes[o],i.matchesSelector(t,e)){if(n)return i;s.push(i)}return n?null:s},destroy:function(t){for(var e,n=t.length,i=0;n--;)e=this._nodes.indexOf(t[n]),e!==-1&&(this._nodes.splice(e,1),t[n].destroy(),i++);return t.length===i},_getModuleControllersByElement:function(t){var e=t.getAttribute(u.attr.module)||"";if(91==e.charCodeAt(0)){var n,i,o,r=[],s=0;try{i=JSON.parse(e)}catch(t){throw new Error('ModuleLoader.load(context): "data-module" attribute contains a malformed JSON string.')}if(!i)return[];if(n=i.length,E.test(e)){for(;s<n;s++)o=i[s],b.isModuleEnabled(o.path)&&(r[s]=this._getModuleController(o.path,t,o.options,o.conditions));return r}for(;s<n;s++)o=i[s],b.isModuleEnabled("string"==typeof o?o:o[0])&&("string"==typeof o?r[s]=this._getModuleController(o,t):r[s]=this._getModuleController(o[0],t,"string"==typeof o[1]?o[2]:o[1],"string"==typeof o[1]?o[1]:o[2]));return r}return b.isModuleEnabled(e)?[this._getModuleController(e,t,t.getAttribute(u.attr.options),t.getAttribute(u.attr.conditions))]:null},_getModuleController:function(t,e,n,i){return new w(t,e,n,i?new y(i,e):v)}},u={paths:{monitors:"./monitors/"},attr:{options:"data-options",module:"data-module",conditions:"data-conditions",priority:"data-priority",initialized:"data-initialized",processed:"data-processed",loading:"data-loading"},loader:{require:function(t,n){e(t,n)},config:function(t,e){var n={};n[t]=e,requirejs.config({config:n})},toUrl:function(t){return requirejs.toUrl(t)}},modules:{}},l=new h,a=new C,{init:function(e){return e&&this.setOptions(e),a.parse(t.document)},setOptions:function(t){if(!t)throw new Error('Conditioner.setOptions(options): "options" is a required parameter.');var e,n,i,o,r;u=s(u,t);for(n in u.paths)u.paths.hasOwnProperty(n)&&(u.paths[n]+="/"!==u.paths[n].slice(-1)?"/":"");for(n in u.modules)u.modules.hasOwnProperty(n)&&(i=u.modules[n],o="string"==typeof i?i:i.alias,e="string"==typeof i?null:i.options||{},r="string"==typeof i?null:i.enabled,b.registerModule(n,e,o,r))},parse:function(t){if(!t)throw new Error('Conditioner.parse(context): "context" is a required parameter.');return a.parse(t)},load:function(t,e){return a.load(t,e)},sync:function(){var t=Object.create(A.prototype);return A.apply(t,[arguments[0].slice?arguments[0]:Array.prototype.slice.call(arguments,0)]),t},getNode:function(){return"object"==typeof arguments[0]?a.getNodeByElement(arguments[0]):a.getNodes(arguments[0],arguments[1],!0)},getNodes:function(t,e){return a.getNodes(t,e,!1)},destroy:function(){var t=[],e=arguments[0];if(!e)throw new Error("Conditioner.destroy(...): A DOM node, Array, String or NodeController is required as the first argument.");return Array.isArray(e)&&(t=e),"string"==typeof e?t=a.getNodes(e,arguments[1]):e instanceof M?t.push(e):e.nodeName&&(t=a.getNodes().filter(function(t){return o(e,t.getElement())})),0!==t.length&&a.destroy(t)},getModule:function(){var t,e,n,i,o,r,s,u;if("object"==typeof arguments[0])return s=a.getNodeByElement(arguments[0]),s?s.getModule(arguments[1]):null;for(e=arguments[0],"string"==typeof arguments[1]?(n=arguments[1],i=arguments[2]):i=arguments[1],t=0,o=a.getNodes(n,i,!1),r=o.length;t<r;t++)if(u=o[t].getModule(e))return u;return null},getModules:function(){var t,e,n,i,o,r,s,u,l;if("object"==typeof arguments[0])return s=a.getNodeByElement(arguments[0]),s.getModules(arguments[1]);for(e=arguments[0],"string"==typeof arguments[1]?(n=arguments[1],i=arguments[2]):i=arguments[1],t=0,o=this.getNodes(n,i),r=o.length,l=[];t<r;t++)u=o[t].getModules(e),u.length&&(l=l.concat(u));return l},is:function(t,e){console.warn('Conditioner.is(condition,[element]): method "is" is deprecated, instead use "matchesCondition".'),this.matchesCondition(t,e)},on:function(t,e,n){return console.warn('Conditioner.on(condition,[element],callback): method "on" is deprecated, instead use "addConditionMonitor".'),this.addConditionMonitor(t,e,n)},matchesCondition:function(t,e){if(!t)throw new Error('Conditioner.matchesCondition(condition,[element]): "condition" is a required parameter.');var n=new i,o=p.setTest(t,e,function(t){n.resolve(t),p.clearTest(o)});return n},addConditionMonitor:function(t,e,n){if(n="function"==typeof e?e:n,!t||!n)throw new Error('Conditioner.addConditionMonitor(condition,[element],callback): "condition" and "callback" are required parameter.');return p.setTest(t,e,function(t){n(t)})},removeConditionMonitor:function(t){p.clearTest(t)}}};if("undefined"!=typeof module&&module.exports)module.exports=n(require,require("./utils/Observer"),require("./utils/Promise"),require("./utils/contains"),require("./utils/matchesSelector"),require("./utils/mergeObjects"));else{if("function"!=typeof define||!define.amd)throw new Error("To use ConditionerJS you need to setup an AMD module loader or use something like Browserify.");define("lib/rikschennink/conditioner",["require","./utils/Observer","./utils/Promise","./utils/contains","./utils/matchesSelector","./utils/mergeObjects"],n)}}(window),require.config({map:{"*":{conditioner:"lib/rikschennink/conditioner","utils/Observer":"lib/rikschennink/utils/Observer","utils/mergeObjects":"lib/rikschennink/utils/mergeObjects"}},shim:{"lib/rikschennink/conditioner":["shim/DOMContentLoaded","shim/addEventListener","shim/Array.forEach","shim/Array.filter","shim/Array.map","shim/Array.indexOf","shim/Array.isArray","shim/Function.bind","shim/Object.create","shim/Object.keys"],"lib/rikschennink/monitors/media":["shim/matchMedia","shim/matchMedia.addListener"]}}),require(["conditioner"],function(t){t.init({modules:{"ui/StarGazers":{options:{width:90,user:"rikschennink",repo:"conditioner"}},"ui/StorageConsentSelect":{options:{label:{level:{incognito:"Incognito"}}}},"security/StorageConsentGuard":{options:{levels:["all","incognito","none"],initial:"none"}}}})}),define("main",function(){}),define("security/StorageConsentGuard",["utils/Observer","utils/mergeObjects","module"],function(t,e,n){"use strict";var i=function(){this._level=null,this.setOptions(n.config()),this._setDefaultLevel()};i.prototype={setOptions:function(t){t||(t={}),this._options=e({initial:"all",levels:["all","none"]},t),this._setDefaultLevel()},_setDefaultLevel:function(){this.setActiveLevel(this._options.initial)},getLevels:function(){return this._options.levels},getActiveLevel:function(){return this._level},setActiveLevel:function(e){e!==this._level&&(this._level=e,t.publish(this,"change",this._level))}};var o;return{getInstance:function(){return o||(o=new i),o}}}),function(){var t=function(t,e){var n="";return{trigger:function(i){var o=e.getInstance();t.subscribe(o,"change",function(){n=o.getActiveLevel(),i()}),n=o.getActiveLevel()},parse:function(t){return[{value:t.split(",")}]},test:function(t){return t.expected.indexOf(n)!=-1}}};"undefined"!=typeof module&&module.exports?module.exports=t(require("../utils/Observer"),require("security/StorageConsentGuard")):"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/cookies",["../utils/Observer","security/StorageConsentGuard"],function(e,n){return t(e,n)})}(),function(t,e){"use strict";var n={trigger:{online:t,offline:t},test:{any:function(t){return t.expected}}};"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/connection",[],function(){return n})}(window),function(t,e){"use strict";var n=function(e){var n=t.innerHeight,i=e.getBoundingClientRect();return i.top>0&&i.top<n||i.bottom>0&&i.bottom<n},i=function(t){return parseInt(t,10)},o={trigger:{resize:t,scroll:t},test:{visible:function(t){return t.seen=n(t.element),t.seen&&t.expected},"min-width":function(t){return i(t.expected)<=t.element.offsetWidth},"max-width":function(t){return i(t.expected)>=t.element.offsetWidth},"min-height":function(t){return i(t.expected)<=t.element.offsetHeight},"max-height":function(t){return i(t.expected)>=t.element.offsetHeight}}};"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/element",[],function(){return o})}(window),window.addEventListener&&(window.matchMedia=window.matchMedia||function(t,e){"use strict";var n,i=t.documentElement,o=i.firstElementChild||i.firstChild,r=t.createElement("body"),s=t.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",r.style.background="none",r.appendChild(s),function(t){return s.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(r,o),n=42===s.offsetWidth,i.removeChild(r),{matches:n,media:t}}}(document)),define("shim/matchMedia",function(){}),window.addEventListener&&!function(){if(!window.matchMedia("(min-width:0)").addListener){
var t=window.matchMedia;window.matchMedia=function(e){var n,i=t(e),o=[],r=!1,s=function(){var n=t(e),s=n.matches&&!r,u=!n.matches&&r;if(s||u)for(var l=0,a=o.length;l<a;l++)o[l].call(i,n);r=n.matches};return i.addListener=function(t){o.push(t),n||(n=setInterval(s,1e3))},i.removeListener=function(t){for(var e=0,i=o.length;e<i;e++)o[e]===t&&o.splice(e,1);!o.length&&n&&clearInterval(n)},i}}}(),define("shim/matchMedia.addListener",function(){}),function(t,e){"use strict";var n={data:{mql:null},trigger:function(e,n){"supported"!==n.expected&&(n.change=function(){e()},n.mql=t.matchMedia(n.expected),n.mql.addListener(n.change))},parse:function(t){var e=[];return"supported"===t?e.push({test:"supported",value:!0}):e.push({test:"query",value:t}),e},test:{supported:function(){return"matchMedia"in t},query:function(t){return t.mql.matches}},unload:function(t){t.mql.removeListener(t.change)}};"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/media",[],function(){return n})}(window),function(t,e){"use strict";var n=t.document,i=n.documentElement||n.body.parentNode||n.body,o=function(){return t.pageXOffset!==e?t.pageXOffset:i.scrollLeft},r=function(){return t.pageYOffset!==e?t.pageYOffset:i.scrollTop},s=function(t,e){if(e){var n,i,s=t.getBoundingClientRect(),u=e.pageX-o(),l=e.pageY-r();return n=u<s.left?s.left:u>s.right?s.right:u,i=l<s.top?s.top:l>s.bottom?s.bottom:l,n===u&&i===l?0:Math.pow(u-n,2)+Math.pow(l-i,2)}},u=t.PointerEvent||t.MSPointerEvent,l=t.PointerEvent?"pointermove":"MSPointerMove",a={available:!1,moves:0,movesRequired:2},c={trigger:function(t){var e=function e(i){if(u){if(a.available=4===i.pointerType||3===i.pointerType,!a.available)return;return n.removeEventListener(l,e,!1),void t()}return"mousemove"!==i.type?void(a.moves=0):void(++a.moves>=a.movesRequired&&(n.removeEventListener("mousemove",e,!1),n.removeEventListener("mousedown",e,!1),a.available=!0,t()))};u?n.addEventListener(l,e,!1):(n.addEventListener("mousemove",e,!1),n.addEventListener("mousedown",e,!1)),n.addEventListener("mousemove",function(e){t(e)},!1)},test:{near:function(t,e){if(!a.available)return!1;var n=t.expected===!0?50:parseInt(t.expected,10);return n*n>=s(t.element,e)},fine:function(t){return a.available===t.expected}}};"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/pointer",[],function(){return c})}(window),function(t,e){"use strict";var n=t.document,i=function(){return t.innerWidth||n.documentElement.clientWidth},o=function(){return t.innerHeight||n.documentElement.clientHeight},r=function(t){return parseInt(t,10)},s={trigger:{resize:t},test:{"min-width":function(t){return r(t.expected)<=i()},"max-width":function(t){return r(t.expected)>=i()},"min-height":function(t){return r(t.expected)<=o()},"max-height":function(t){return r(t.expected)>=o()}}};"undefined"!=typeof module&&module.exports?module.exports=s:"function"==typeof define&&define.amd&&define("lib/rikschennink/monitors/window",[],function(){return s})}(window),define("ui/Clock",[],function(){"use strict";var t=function(t){return t<10?"0"+t:t},e=function(t,e){this._element=t,this._options=e,this._time=document.createElement("p"),this._tick(),this._element.appendChild(this._time)};return e.options={time:!0},e.prototype={_tick:function(){var e=this,n=new Date,i=t(n.getDate())+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),o=t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds());this._time.textContent=i+(this._options.time?" - "+o:""),this._options.time&&(this._timer=setTimeout(function(){e._tick()},900))},unload:function(){clearTimeout(this._timer),this._time.parentNode.removeChild(this._time)}},e}),define("ui/Zoom",[],function(){"use strict";var t=function(t,e){this._element=t,this._options=e,this._btn=document.createElement("button"),this._btn.textContent="zoom in",this._btn.addEventListener("click",this,!1),this._element.appendChild(this._btn)};return t.options={fontSize:"2em"},t.prototype={handleEvent:function(t){"click"===t.type&&(this._element.style.fontSize?this._zoomOut():this._zoomIn())},_zoomIn:function(){this._btn.textContent="zoom out",this._element.style.fontSize=this._options.fontSize},_zoomOut:function(){this._btn.textContent="zoom in",this._element.style.fontSize=null},unload:function(){this._zoomOut(),this._btn.removeEventListener("click",this,!1),this._btn.parentNode.removeChild(this._btn)}},t}),define("ui/StorageConsentSelect",["security/StorageConsentGuard"],function(t){"use strict";var e=function(e,n){this._element=e,this._options=n,this._storageGuard=t.getInstance(),this._inner=this._element.innerHTML;var i,o=this._options.label.level,r="";for(i in o)o.hasOwnProperty(i)&&(r+="<option"+(i==this._storageGuard.getActiveLevel()?' selected="selected"':"")+' value="'+i+'">'+this._options.label.level[i]+"</option>");this._element.innerHTML='<label for="storage-consent">'+this._options.label.select+'</label><select id="storage-consent">'+r+"</select>",this._element.querySelector("select").addEventListener("change",this)};return e.options={label:{select:"Cookies",level:{all:"All",none:"None"}}},e.prototype={handleEvent:function(t){if("change"===t.type){var e=this._element.querySelector("select"),n=e.options[e.selectedIndex].value;this._storageGuard.setActiveLevel(n)}},unload:function(){this._element.querySelector("select").removeEventListener("change",this),this._element.innerHTML=this._inner,this._storageGuard=null}},e}),define("ui/StarGazers",[],function(){"use strict";var t=function(t,e){this._element=t,this._options=e,this._inner=this._element.innerHTML,this._load()};return t.options={user:"mdo",repo:"github-buttons",width:80,height:20,count:!0,type:"watch"},t.prototype={_load:function(){this._element.innerHTML='<iframe src="http://ghbtns.com/github-btn.html?user='+this._options.user+"&repo="+this._options.repo+"&type="+this._options.type+"&count="+this._options.count+'"allowtransparency="true" frameborder="0" scrolling="0" width="'+this._options.width+'" height="'+this._options.height+'"></iframe>'},unload:function(){this._element.innerHTML=this._inner}},t});