!function(e){var t=1,n={},i={_setEntry:function(e,i){var r=e.__pubSubUID;return r||(r=t++,e.__pubSubUID=r,n[r]={obj:e}),n[r][i]||(n[r][i]=[]),n[r]},_getEntryProp:function(e,t){var i=n[e.__pubSubUID];return i?n[e.__pubSubUID][t]:null},subscribe:function(e,t,n){for(var i,r=this._setEntry(e,"subscriptions"),o=0,s=r.subscriptions,u=s.length;u>o;o++)if(i=s[o],i.type===t&&i.fn===n)return;s.push({type:t,fn:n})},unsubscribe:function(e,t,n){var i=this._getEntryProp(e,"subscriptions");if(i)for(var r,o=i.length;--o>=0;)r=i[o],r.type!==t||r.fn!==n&&n||i.splice(o,1)},publishAsync:function(e,t,n){var i=this;setTimeout(function(){i.publish(e,t,n)},0)},publish:function(e,t,n){for(var i,r=this._setEntry(e,"subscriptions"),o=[],s=0,u=r.subscriptions,a=u.length,l=r.receivers;a>s;s++)i=u[s],i.type===t&&o.push(i);for(a=o.length,s=0;a>s;s++)o[s].fn(n);if(l)for(a=l.length,s=0;a>s;s++)this.publish(l[s],t,n)},inform:function(e,t){if(!e||!t)return!1;var n=this._setEntry(e,"receivers");return n.receivers.push(t),!0},conceal:function(e,t){if(!e||!t)return!1;var n=this._getEntryProp(e,"receivers");if(!n)return!1;for(var i,r=n.length;--r>=0;)if(i=n[r],i===t)return n.splice(r,1),!0;return!1}};"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):e.Observer=i}(window);