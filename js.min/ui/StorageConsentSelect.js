define(["security/StorageConsentGuard"],function(t){var e=function(e,n){this._element=e,this._options=n,this._storageGuard=t.getInstance(),this._inner=this._element.innerHTML;var i,o=this._options.label.level,r="";for(i in o)o.hasOwnProperty(i)&&(r+="<option"+(i==this._storageGuard.getActiveLevel()?' selected="selected"':"")+' value="'+i+'">'+this._options.label.level[i]+"</option>");this._element.innerHTML='<label for="storage-consent">'+this._options.label.select+"</label>"+'<select id="storage-consent">'+r+"</select>",this._element.querySelector("select").addEventListener("change",this)};return e.options={label:{select:"Cookies",level:{all:"All",none:"None"}}},e.prototype.handleEvent=function(t){if("change"===t.type){var e=this._element.querySelector("select"),n=e.options[e.selectedIndex].value;this._storageGuard.setActiveLevel(n)}},e.prototype.unload=function(){this._element.querySelector("select").removeEventListener("change",this),this._element.innerHTML=this._inner},e});