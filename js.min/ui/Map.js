define([],function(){var t=function(t){this._element=t,this._inner=this._element.innerHTML,this._loading=!1,this._load(this._element.getAttribute("href"))};return t.prototype._load=function(t){if(t){this._loading=!0,this._element.innerHTML="Loading map";var e=t.match(/[\d]*\.?[\d]+/g),n={coords:{latitude:parseFloat(e[0]),longitude:parseFloat(e[1])},zoom:parseInt(e[2],10)},i=this,o="&style=feature:water|hue:0x00a1ff|saturation:-24&style=feature:road|element:labels|visibility:off&style=feature:administrative|element:labels|visibility:off&style=feature:landscape.natural|element:geometry.fill|saturation:-44|lightness:37|hue:0xf6ff00&style=feature:administrative.province|visibility:off&style=feature:poi|visibility:off&style=feature:transit|visibility:off&style=feature:water|element:labels|visibility:off",r=document.createElement("img");r.setAttribute("alt",""),r.className="map",r.onload=function(){i._loading&&(i._element.innerHTML="",i._element.appendChild(r))},r.src="http://maps.googleapis.com/maps/api/staticmap?center="+n.coords.latitude+","+n.coords.longitude+"&zoom="+n.zoom+"&size="+500+"x"+300+"&maptype=roadmap&sensor=false"+o}},t.prototype.unload=function(){this._loading=!1,this._element.innerHTML=this._inner},t});