!function(r){"use strict";var n=1,t={},e={_setEntry:function(r,e){var i=r.__pubSubUID;return i||(i=n++,r.__pubSubUID=i,t[i]={obj:r}),t[i][e]||(t[i][e]=[]),t[i]},_getEntryProp:function(r,n){var e=t[r.__pubSubUID];return e?t[r.__pubSubUID][n]:null},subscribe:function(r,n,t){for(var e,i=this._setEntry(r,"subscriptions"),u=0,s=i.subscriptions,o=s.length;o>u;u++)if(e=s[u],e.type===n&&e.fn===t)return;s.push({type:n,fn:t})},unsubscribe:function(r,n,t){var e=this._getEntryProp(r,"subscriptions");if(e)for(var i,u=e.length;--u>=0;)i=e[u],i.type!==n||i.fn!==t&&t||e.splice(u,1)},publishAsync:function(r,n,t){var e=this;setTimeout(function(){e.publish(r,n,t)},0)},publish:function(r,n,t){for(var e,i=this._setEntry(r,"subscriptions"),u=[],s=0,o=i.subscriptions,f=o.length,c=i.receivers;f>s;s++)e=o[s],e.type===n&&u.push(e);for(f=u.length,s=0;f>s;s++)u[s].fn(t);if(c)for(f=c.length,s=0;f>s;s++)this.publish(c[s],n,t)},inform:function(r,n){if(!r||!n)return!1;var t=this._setEntry(r,"receivers");return t.receivers.push(n),!0},conceal:function(r,n){if(!r||!n)return!1;var t=this._getEntryProp(r,"receivers");if(!t)return!1;for(var e,i=t.length;--i>=0;)if(e=t[i],e===n)return t.splice(i,1),!0;return!1}};"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):r.Observer=e}(window);